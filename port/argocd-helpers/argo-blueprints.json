[
  {
    "identifier": "cluster",
    "title": "K8s Cluster",
    "icon": "Cluster",
    "schema": {
      "properties": {
        "namespace": {
          "type": "string",
          "title": "k8s namespace"
        },
        "cluster_type": {
          "title": "Type",
          "type": "string",
          "description": "The K8S cluster type",
          "enum": [
            "EKS",
            "GKE",
            "docker-desktop"
          ]
        },
        "kconfig": {
          "title": "Kconfig File",
          "type": "string",
          "description": "The kconfig file"
        },
        "k8s-version": {
          "title": "K8s version",
          "type": "string"
        },
        "readiness-configured": {
          "type": "boolean",
          "title": "Readiness Configured"
        },
        "liveness-configured": {
          "type": "boolean",
          "title": "Liveness Configured"
        },
        "cluster-nodes": {
          "type": "number",
          "title": "Cluster Nodes"
        },
        "mem-cpu-lim-req": {
          "type": "boolean",
          "title": "CPU and Memory limits configured"
        }
      },
      "required": []
    },
    "mirrorProperties": {
    },
    "calculationProperties": {
      "prometheus": {
        "title": "Prometheus URL",
        "icon": "Prometheus",
        "calculation": "'https://prometheus.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "alertManager": {
        "title": "Alert Manager URL",
        "icon": "Prometheus",
        "calculation": "'https://alertmanager.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "argoCD": {
        "title": "ArgoCD URL",
        "icon": "Argo",
        "calculation": "'https://argocd.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "argoCD-apps": {
        "title": "ArgoCD-apps URL",
        "icon": "Argo",
        "calculation": "'https://argocd-apps.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "grafana": {
        "title": "Grafana URL",
        "icon": "Grafana",
        "calculation": "'https://grafana.' + .identifier",
        "type": "string",
        "format": "url"
      }
    }
  },
  {
    "identifier": "runningService",
    "title": "Running Service",
    "icon": "Argo",
    "schema": {
      "properties": {
        "locked": {
          "type": "boolean",
          "title": "Locked",
          "description": "Indicate if deploying is allow for microservice in a this environment",
          "default": false
        },
        "version": {
          "title": "Image Tag",
          "type": "string",
          "description": "The deployed image tag",
          "icon": "Git"
        },
        "commitSha": {
          "type": "string",
          "title": "Commit SHA"
        },
        "cpuLimit": {
          "type": "number",
          "title": "CPU limit"
        },
        "memoryLimit": {
          "type": "number",
          "title": "Memory limit"
        },
        "pullRequest": {
          "type": "string",
          "format": "url",
          "title": "Merged PR",
          "icon": "Github",
          "default": "https://github.com"
        },
        "namespace": {
          "type": "string",
          "title": "Namespace"
        },
        "values": {
          "type": "string",
          "title": "Helm Values",
          "format": "yaml"
        },
        "new-relic": {
          "type": "string",
          "format": "url",
          "title": "New Relic",
          "spec": "embedded-url"
        },
        "datadog": {
          "type": "string",
          "format": "url",
          "title": "Datadog",
          "spec": "embedded-url"
        },
        "logzio": {
          "type": "string",
          "format": "url",
          "title": "Logz",
          "spec": "embedded-url"
        },
        "replicaCount": {
          "type": "number",
          "title": "Desired Number of Replicas"
        },
        "cpu": {
          "title": "CPU usage(%)",
          "type": "number"
        },
        "memory": {
          "title": "Memory usage(%)",
          "type": "number"
        }
      },
      "required": []
    },
    "mirrorProperties": {
    },
    "calculationProperties": {},
    "relations": {
      "service": {
        "title": "Service",
        "target": "service",
        "required": true,
        "many": false
      },
      "environment": {
        "title": "Related Environment",
        "target": "cluster",
        "required": false,
        "many": false
      }
    }
  },
  {
     "identifier":"pod",
     "description":"This blueprint represents a k8s Pod",
     "title":"Pod",
     "icon":"Service",
     "schema":{
        "properties":{
           "conditions":{
              "type":"array",
              "title":"Conditions",
              "default":[
                 
              ],
              "description":"Pod's conditions"
           },
           "labels":{
              "type":"object",
              "title":"Labels",
              "description":"Labels of the Pod"
           },
           "phase":{
              "type":"string",
              "title":"Pod phase",
              "description":"Pod's running phase"
           },
           "startTime":{
              "type":"string",
              "title":"Created",
              "format":"date-time",
              "description":"Pod's creation date"
           }
        },
        "required":[
           
        ]
     },
     "mirrorProperties":{
        "cluster":{
           "title":"Cluster",
           "path":"workload.Cluster.$identifier"
        }
     },
     "calculationProperties":{
        
     },
     "relations":{
        "workload":{
           "title":"Workload",
           "description":"The workload responsible for the pod",
           "target":"workload",
           "required":false,
           "many":false
        }
     }
  },
  {
    "identifier": "argocdApp",
    "description": "This blueprint represents an Argo CD Application",
    "title": "Deployment(ArgoCD App)",
    "icon": "Deployment",
    "schema": {
      "properties": {
        "syncPolicy": {
          "type": "object",
          "title": "Sync Policy",
          "description": "Options for syncing the application with the Git repository"
        },
        "gitRepo": {
          "type": "string",
          "icon": "Git",
          "title": "Repository URL",
          "description": "The URL of the Git repository containing the application source code"
        },
        "gitPath": {
          "type": "string",
          "title": "Path",
          "description": "The path within the Git repository where the application manifests are located"
        },
        "syncStatus": {
          "type": "string",
          "title": "Sync Status",
          "description": "The sync status of the application"
        },
        "gitRev": {
          "type": "string",
          "title": "Target Revision",
          "description": "The Git revision (branch, tag, or commit hash) to deploy"
        }
      },
      "required": []
    },
    "mirrorProperties": {
      "Cluster": {
        "title": "Cluster",
        "path": "workload.Cluster.$title"
      }
    },
    "calculationProperties": {},
    "relations": {
      "workload": {
        "title": "Workload",
        "target": "workload",
        "required": false,
        "many": true
      }
    }
  },
  {
    "identifier": "developerEnv",
    "title": "Developer Env",
    "icon": "DeployedAt",
    "schema": {
      "properties": {
        "owner": {
          "type": "string",
          "title": "Owner",
          "default": "admin",
          "format": "user",
          "description": "The developer who requested the environment"
        },
        "ttl": {
          "type": "string",
          "title": "TTL",
          "format": "timer",
          "description": "The self-termination date of the environment"
        },
        "deploymentStatus": {
          "type": "string",
          "icon": "Git",
          "title": "Status",
          "default": "Deployed",
          "enum": [
            "Deployed",
            "Deploying",
            "Deleted",
            "Failed"
          ],
          "enumColors": {
            "Deploying": "orange",
            "Deployed": "green",
            "Failed": "red",
            "Deleted": "darkGray"
          }
        }
      },
      "required": []
    },
    "mirrorProperties": {},
    "calculationProperties": {
      "envUrl": {
        "title": "Env URL",
        "icon": "Environment",
        "calculation": "\"https://k8s.devenv/\" + .identifier",
        "type": "string",
        "format": "url"
      },
      "costDashboard": {
        "title": "Cost Dashboard",
        "icon": "Datadog",
        "calculation": "\"https://p.datadog.com/sb/ee7c4d5a-919e-11ed-a723-da7ad0900002-610882095192d0e2e44c2ab031f39c21/\" + .identifier",
        "type": "string",
        "format": "url"
      }
    },
    "relations": {
      "runningServices": {
        "title": "Running Services",
        "target": "workload",
        "required": false,
        "many": true
      }
    }
  },
  {
    "identifier": "service",
    "description": "This blueprint represents service in our software catalog",
    "title": "Service",
    "icon": "Microservice",
    "schema": {
      "properties": {
        "language": {
          "type": "string",
          "icon": "Git",
          "title": "Language",
          "default": "Node",
          "enum": [
            "GO",
            "Java",
            "Node",
            "React"
          ],
          "enumColors": {
            "GO": "red",
            "Java": "green",
            "Node": "blue",
            "React": "yellow"
          }
        },
        "monitor-links": {
          "title": "Monitor Tooling",
          "type": "array",
          "items": {
            "type": "string",
            "format": "url"
          },
          "default": [
            "https://grafana.com",
            "https://prometheus.com",
            "https://datadog.com"
          ],
          "icon": "DefaultProperty"
        },
        "readme": {
          "format": "markdown",
          "type": "string",
          "title": "Readme",
          "icon": "Github"
        },
        "jira-issues": {
          "type": "string",
          "icon": "Jira",
          "title": "JIRA Issues",
          "enum": [
            "1",
            "2",
            "4",
            "5",
            "8",
            "12",
            "19",
            "22"
          ],
          "enumColors": {
            "1": "green",
            "2": "green",
            "4": "green",
            "5": "orange",
            "8": "orange",
            "12": "red",
            "19": "red",
            "22": "red"
          }
        },
        "snyk-vuln": {
          "type": "string",
          "icon": "Snyk",
          "title": "Snyk Vulnerabilities",
          "enum": [
            "0",
            "2",
            "4",
            "5",
            "8",
            "12",
            "19",
            "22"
          ],
          "enumColors": {
            "0": "green",
            "2": "green",
            "4": "green",
            "5": "orange",
            "8": "orange",
            "12": "red",
            "19": "red",
            "22": "red"
          }
        },
        "number-of-deployments": {
          "type": "number",
          "title": "Deployment Frequency: deploys / week",
          "icon": "GithubActions"
        },
        "number-of-outages": {
          "type": "number",
          "icon": "pagerduty",
          "title": "Number of outages last week"
        },
        "swagger": {
          "type": "string",
          "format": "url",
          "spec": "open-api",
          "icon": "Swagger",
          "title": "Swagger"
        },
        "pr-cycle-time": {
          "type": "number",
          "icon": "GitPullRequest",
          "title": "Pr Cycle Time in Minutes"
        },
        "build-success-rate": {
          "type": "number",
          "icon": "GithubActions",
          "title": "Build Success Rate"
        },
        "unit-tests-coverage": {
          "icon": "sonarqube",
          "type": "number",
          "title": "Unit Tests Coverage"
        },
        "code-owners": {
          "title": "Code Owners",
          "icon": "Github",
          "type": "array",
          "items": {
            "type": "string",
            "format": "user"
          }
        },
        "quality_gate_status": {
          "title": "Quality Gate Status",
          "type": "string",
          "icon": "sonarqube",
          "enum": [
            "Passed",
            "Failed"
          ],
          "enumColors": {
            "Passed": "green",
            "Failed": "red"
          }
        }
      },
      "required": []
    },
    "mirrorProperties": {
      "domain-architecture": {
        "path": "domain.architecture"
      }
    },
    "calculationProperties": {
      "github-url": {
        "title": "Github URL",
        "icon": "Github",
        "calculation": "\"https://github.com/port-labs/\" + .identifier",
        "type": "string",
        "format": "url"
      }
    },
    "relations": {
      "domain": {
        "title": "Domain",
        "target": "domain",
        "required": true,
        "many": false
      }
    }
  }
]