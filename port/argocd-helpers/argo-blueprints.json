[
  {
    "identifier": "service",
    "description": "This blueprint represents service in our software catalog",
    "title": "Service",
    "icon": "Microservice",
    "schema": {
      "properties": {
        "language": {
          "type": "string",
          "icon": "Git",
          "title": "Language",
          "default": "Node",
          "enum": [
            "GO",
            "Java",
            "Node",
            "React"
          ],
          "enumColors": {
            "GO": "red",
            "Java": "green",
            "Node": "blue",
            "React": "yellow"
          }
        },
        "monitor-links": {
          "title": "Monitor Tooling",
          "type": "array",
          "items": {
            "type": "string",
            "format": "url"
          },
          "default": [
            "https://grafana.com",
            "https://prometheus.com",
            "https://datadog.com"
          ],
          "icon": "DefaultProperty"
        },
        "readme": {
          "format": "markdown",
          "type": "string",
          "title": "Readme",
          "icon": "Github"
        },
        "jira-issues": {
          "type": "string",
          "icon": "Jira",
          "title": "JIRA Issues",
          "enum": [
            "1",
            "2",
            "4",
            "5",
            "8",
            "12",
            "19",
            "22"
          ],
          "enumColors": {
            "1": "green",
            "2": "green",
            "4": "green",
            "5": "orange",
            "8": "orange",
            "12": "red",
            "19": "red",
            "22": "red"
          }
        },
        "snyk-vuln": {
          "type": "string",
          "icon": "Snyk",
          "title": "Snyk Vulnerabilities",
          "enum": [
            "0",
            "2",
            "4",
            "5",
            "8",
            "12",
            "19",
            "22"
          ],
          "enumColors": {
            "0": "green",
            "2": "green",
            "4": "green",
            "5": "orange",
            "8": "orange",
            "12": "red",
            "19": "red",
            "22": "red"
          }
        },
        "number-of-deployments": {
          "type": "number",
          "title": "Deployment Frequency: deploys / week",
          "icon": "GithubActions"
        },
        "number-of-outages": {
          "type": "number",
          "icon": "pagerduty",
          "title": "Number of outages last week"
        },
        "swagger": {
          "type": "string",
          "format": "url",
          "spec": "open-api",
          "icon": "Swagger",
          "title": "Swagger"
        },
        "pr-cycle-time": {
          "type": "number",
          "icon": "GitPullRequest",
          "title": "Pr Cycle Time in Minutes"
        },
        "build-success-rate": {
          "type": "number",
          "icon": "GithubActions",
          "title": "Build Success Rate"
        },
        "unit-tests-coverage": {
          "icon": "sonarqube",
          "type": "number",
          "title": "Unit Tests Coverage"
        },
        "code-owners": {
          "title": "Code Owners",
          "icon": "Github",
          "type": "array",
          "items": {
            "type": "string",
            "format": "user"
          }
        },
        "quality_gate_status": {
          "title": "Quality Gate Status",
          "type": "string",
          "icon": "sonarqube",
          "enum": [
            "Passed",
            "Failed"
          ],
          "enumColors": {
            "Passed": "green",
            "Failed": "red"
          }
        }
      },
      "required": []
    },
    "mirrorProperties": {
      "domain-architecture": {
        "path": "domain.architecture"
      }
    },
    "calculationProperties": {
      "github-url": {
        "title": "Github URL",
        "icon": "Github",
        "calculation": "\"https://github.com/port-labs/\" + .identifier",
        "type": "string",
        "format": "url"
      }
    },
    "relations": {
      "domain": {
        "title": "Domain",
        "target": "domain",
        "required": true,
        "many": false
      }
    }
  },
  {
    "identifier": "cluster",
    "title": "K8s Cluster",
    "icon": "Cluster",
    "schema": {
      "properties": {
        "namespace": {
          "type": "string",
          "title": "k8s namespace"
        },
        "cluster_type": {
          "title": "Type",
          "type": "string",
          "description": "The K8S cluster type",
          "enum": [
            "EKS",
            "GKE",
            "docker-desktop"
          ]
        },
        "kconfig": {
          "title": "Kconfig File",
          "type": "string",
          "description": "The kconfig file"
        },
        "k8s-version": {
          "title": "K8s version",
          "type": "string"
        },
        "readiness-configured": {
          "type": "boolean",
          "title": "Readiness Configured"
        },
        "liveness-configured": {
          "type": "boolean",
          "title": "Liveness Configured"
        },
        "cluster-nodes": {
          "type": "number",
          "title": "Cluster Nodes"
        },
        "mem-cpu-lim-req": {
          "type": "boolean",
          "title": "CPU and Memory limits configured"
        }
      },
      "required": []
    },
    "mirrorProperties": {
    },
    "calculationProperties": {
      "prometheus": {
        "title": "Prometheus URL",
        "icon": "Prometheus",
        "calculation": "'https://prometheus.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "alertManager": {
        "title": "Alert Manager URL",
        "icon": "Prometheus",
        "calculation": "'https://alertmanager.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "argoCD": {
        "title": "ArgoCD URL",
        "icon": "Argo",
        "calculation": "'https://argocd.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "argoCD-apps": {
        "title": "ArgoCD-apps URL",
        "icon": "Argo",
        "calculation": "'https://argocd-apps.' + .identifier",
        "type": "string",
        "format": "url"
      },
      "grafana": {
        "title": "Grafana URL",
        "icon": "Grafana",
        "calculation": "'https://grafana.' + .identifier",
        "type": "string",
        "format": "url"
      }
    }
  },
  {
    "identifier": "arunningService",
    "title": "Running Service",
    "icon": "Argo",
    "schema": {
      "properties": {
        "locked": {
          "type": "boolean",
          "title": "Locked",
          "description": "Indicate if deploying is allow for microservice in a this environment",
          "default": false
        },
        "version": {
          "title": "Image Tag",
          "type": "string",
          "description": "The deployed image tag",
          "icon": "Git"
        },
        "commitSha": {
          "type": "string",
          "title": "Commit SHA"
        },
        "cpuLimit": {
          "type": "number",
          "title": "CPU limit"
        },
        "memoryLimit": {
          "type": "number",
          "title": "Memory limit"
        },
        "pullRequest": {
          "type": "string",
          "format": "url",
          "title": "Merged PR",
          "icon": "Github",
          "default": "https://github.com"
        },
        "namespace": {
          "type": "string",
          "title": "Namespace"
        },
        "grafana": {
          "type": "string",
          "format": "url",
          "title": "Grafana",
          "spec": "embedded-url"
        },
        "replicaCount": {
          "type": "number",
          "title": "Desired Number of Replicas"
        },
        "cpu": {
          "title": "CPU usage(%)",
          "type": "number"
        },
        "memory": {
          "title": "Memory usage(%)",
          "type": "number"
        }
      },
      "required": []
    },
    "mirrorProperties": {
    },
    "calculationProperties": {},
    "relations": {
      "service": {
        "title": "Service",
        "target": "service",
        "required": false,
        "many": false
      },
     "Cluster": {
      "title": "Namespace",
      "target": "cluster",
      "required": false,
      "many": false
     }
    }
  }
]